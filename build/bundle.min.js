(function(e, a) { for(var i in a) e[i] = a[i]; }(window, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./lib/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/CameraManager.js":
/*!******************************!*\
  !*** ./lib/CameraManager.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar transform_1 = __webpack_require__(/*! ./transform */ \"./lib/transform.js\");\nvar Camera = /** @class */ (function () {\n    function Camera(_name) {\n        this._name = _name;\n        this._transform = new transform_1.Transform();\n    }\n    Object.defineProperty(Camera.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Camera.prototype, \"transform\", {\n        get: function () {\n            return this._transform;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Camera.prototype.activate = function () {\n        CameraManager.instance.activate(this._name);\n    };\n    return Camera;\n}());\nexports.Camera = Camera;\nvar CameraManager = /** @class */ (function () {\n    function CameraManager() {\n        this._cameras = [];\n    }\n    Object.defineProperty(CameraManager.prototype, \"cameras\", {\n        get: function () {\n            return this._cameras;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CameraManager.prototype, \"activeCamera\", {\n        get: function () {\n            return this._activeCamera;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(CameraManager.prototype, \"aspect\", {\n        get: function () {\n            return this._aspect;\n        },\n        set: function (value) {\n            this._aspect = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    CameraManager.prototype.activate = function (name) {\n        var camera = CameraManager.instance.find(name);\n        if (camera !== undefined)\n            this._activeCamera = camera;\n        else\n            console.error(\"Camera \" + name + \" is not found.\");\n    };\n    CameraManager.prototype.create = function (name) {\n        var camera = new Camera(name);\n        this._cameras.push(camera);\n        return camera;\n    };\n    CameraManager.prototype.find = function (name) {\n        return this._cameras.find(function (camera) { return camera.name === name; });\n    };\n    CameraManager.instance = new CameraManager();\n    return CameraManager;\n}());\nexports.CameraManager = CameraManager;\n\n\n//# sourceURL=webpack:///./lib/CameraManager.js?");

/***/ }),

/***/ "./lib/MaterialManager.js":
/*!********************************!*\
  !*** ./lib/MaterialManager.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderManager_1 = __webpack_require__(/*! ./ShaderManager */ \"./lib/ShaderManager.js\");\nvar Material = /** @class */ (function () {\n    function Material(_id, _shader, options) {\n        var _this = this;\n        this._id = _id;\n        this._shader = _shader;\n        this.options = options;\n        this._options = _shader.customUniforms.map(function (uniform) {\n            return { name: uniform.name, value: uniform.defaultValue };\n        });\n        options.forEach(function (option) { return _this.setOption(option.name, option.value); });\n    }\n    Object.defineProperty(Material.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Material.prototype, \"shader\", {\n        get: function () {\n            return this._shader;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Material.prototype.setOption = function (name, value) {\n        var option = this._options.find(function (option) { return name === option.name; });\n        if (option === undefined) {\n            console.error(\"option \" + name + \" is not found.\");\n            return;\n        }\n        option.value = value;\n    };\n    Material.prototype.attachUniforms = function () {\n        var _this = this;\n        this._options.forEach(function (option) { return _this._shader.setUniform(option.name, option.value); });\n    };\n    return Material;\n}());\nexports.Material = Material;\nvar MaterialManager = /** @class */ (function () {\n    function MaterialManager() {\n        this._materials = [];\n    }\n    MaterialManager.prototype.init = function (materialDefinitions) {\n        var _this = this;\n        materialDefinitions.forEach(function (materialDefinition) {\n            var shader = ShaderManager_1.ShaderManager.instance.find(materialDefinition.shader);\n            if (shader === undefined) {\n                console.error(\"shader \" + materialDefinition.shader + \" is not found.\");\n                return;\n            }\n            var material = new Material(materialDefinition.id, shader, materialDefinition.options);\n            _this._materials.push(material);\n        });\n    };\n    MaterialManager.prototype.find = function (id) {\n        return this._materials.find(function (material) { return id === material.id; });\n    };\n    MaterialManager.instance = new MaterialManager();\n    return MaterialManager;\n}());\nexports.MaterialManager = MaterialManager;\n\n\n//# sourceURL=webpack:///./lib/MaterialManager.js?");

/***/ }),

/***/ "./lib/Model.js":
/*!**********************!*\
  !*** ./lib/Model.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar float32vector_1 = __webpack_require__(/*! ./float32vector */ \"./lib/float32vector.js\");\nvar VertexData = /** @class */ (function () {\n    function VertexData(_vertex, _normal, _textureCoord) {\n        this._vertex = _vertex;\n        this._normal = _normal;\n        this._textureCoord = _textureCoord;\n    }\n    Object.defineProperty(VertexData.prototype, \"vertex\", {\n        get: function () {\n            return this._vertex;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VertexData.prototype, \"normal\", {\n        get: function () {\n            return this._normal;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VertexData.prototype, \"textureCoord\", {\n        get: function () {\n            return this._textureCoord;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VertexData.prototype, \"tangent\", {\n        get: function () {\n            return this._tangent;\n        },\n        set: function (value) {\n            this._tangent = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VertexData.prototype, \"binormal\", {\n        get: function () {\n            return this._binormal;\n        },\n        set: function (value) {\n            this._binormal = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    VertexData.prototype.getInterleavedValue = function () {\n        var out = [];\n        out = out.concat(this._vertex.toNumberArray());\n        out = out.concat(this._normal.toNumberArray());\n        out = out.concat(this._tangent.toNumberArray());\n        out = out.concat(this._binormal.toNumberArray());\n        out = out.concat(this._textureCoord.toNumberArray());\n        return out;\n    };\n    return VertexData;\n}());\nexports.VertexData = VertexData;\nvar Model = /** @class */ (function () {\n    function Model(_id, _vertices, _indices) {\n        this._id = _id;\n        this._vertices = _vertices;\n        this._indices = _indices;\n    }\n    Object.defineProperty(Model.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Model.prototype, \"vertices\", {\n        get: function () {\n            return this._vertices;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Model.prototype, \"indices\", {\n        get: function () {\n            return this._indices;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Model.prototype, \"interleaved\", {\n        get: function () {\n            return this._interleaved;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Model.prototype.calcInterleavedValues = function () {\n        var tmp = [];\n        this._vertices.forEach(function (vertex) {\n            tmp = tmp.concat(vertex.getInterleavedValue());\n        });\n        this._interleaved = new Float32Array(tmp);\n    };\n    Model.prototype.calcTangents = function () {\n        var sliceNum = 3;\n        var sliceCount = this.indices.length / 3;\n        for (var i = 0; i < sliceCount; i++) {\n            var tmp = [\n                this._vertices[this._indices[sliceNum * i]],\n                this._vertices[this._indices[sliceNum * i + 1]],\n                this._vertices[this._indices[sliceNum * i + 2]],\n            ];\n            this.calcTangentsFromTriangleVertexData(tmp[0], tmp[1], tmp[2]);\n            this.calcTangentsFromTriangleVertexData(tmp[1], tmp[2], tmp[0]);\n            this.calcTangentsFromTriangleVertexData(tmp[2], tmp[0], tmp[1]);\n        }\n    };\n    Model.prototype.calcTangentsFromTriangleVertexData = function (v1, v2, v3) {\n        var pos1 = v1.vertex;\n        var pos2 = v2.vertex;\n        var pos3 = v3.vertex;\n        var uv1 = v1.textureCoord;\n        var uv2 = v2.textureCoord;\n        var uv3 = v3.textureCoord;\n        var deltaPos1 = new float32vector_1.Float32Vector3(pos2.x - pos1.x, pos2.y - pos1.y, pos2.z - pos1.z);\n        var deltaPos2 = new float32vector_1.Float32Vector3(pos3.x - pos1.x, pos3.y - pos1.y, pos3.z - pos1.z);\n        var deltaUV1 = new float32vector_1.Float32Vector2(uv2.x - uv1.x, uv2.y - uv1.y);\n        var deltaUV2 = new float32vector_1.Float32Vector2(uv3.x - uv1.x, uv3.y - uv1.y);\n        var r = 1.0 / (deltaUV1.x * deltaUV2.y - deltaUV1.y * deltaUV2.x);\n        var t1 = deltaPos1.mulByScalar(deltaUV2.y);\n        var t2 = deltaPos2.mulByScalar(deltaUV1.y);\n        var tangent = t1.sub(t2).mulByScalar(r);\n        var b1 = deltaPos2.mulByScalar(deltaUV1.x);\n        var b2 = deltaPos1.mulByScalar(deltaUV2.x);\n        var binormal = b1.sub(b2).mulByScalar(r);\n        v1.tangent = tangent;\n        v1.binormal = binormal;\n    };\n    Model.prototype.dumpInterleaved = function () {\n        var interleaved = this._interleaved;\n        var sliceNum = 14;\n        var sliceCount = interleaved.length / sliceNum;\n        for (var i = 0; i < sliceCount; i++) {\n            var offset = sliceNum * i;\n            var vertex = new float32vector_1.Float32Vector3(interleaved[offset + 0], interleaved[offset + 1], interleaved[offset + 2]);\n            var normal = new float32vector_1.Float32Vector3(interleaved[offset + 3], interleaved[offset + 4], interleaved[offset + 5]);\n            var tangent = new float32vector_1.Float32Vector3(interleaved[offset + 6], interleaved[offset + 7], interleaved[offset + 8]);\n            var binormal = new float32vector_1.Float32Vector3(interleaved[offset + 9], interleaved[offset + 10], interleaved[offset + 11]);\n            var textureCoord = new float32vector_1.Float32Vector2(interleaved[offset + 12], interleaved[offset + 13]);\n            console.log(vertex.x + \", \" + vertex.y + \", \" + vertex.z + \",\");\n            console.log(normal.x + \", \" + normal.y + \", \" + normal.z + \",\");\n            console.log(tangent.x + \", \" + tangent.y + \", \" + tangent.z + \",\");\n            console.log(binormal.x + \", \" + binormal.y + \", \" + binormal.z + \",\");\n            console.log(textureCoord.x + \", \" + textureCoord.y + \",\");\n        }\n    };\n    return Model;\n}());\nexports.Model = Model;\n\n\n//# sourceURL=webpack:///./lib/Model.js?");

/***/ }),

/***/ "./lib/ModelManager.js":
/*!*****************************!*\
  !*** ./lib/ModelManager.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Model_1 = __webpack_require__(/*! ./Model */ \"./lib/Model.js\");\nvar OBJParser_1 = __webpack_require__(/*! ./OBJParser */ \"./lib/OBJParser.js\");\nvar ModelManager = /** @class */ (function () {\n    function ModelManager() {\n        this._models = [];\n    }\n    ModelManager.prototype.loadModels = function (modelDefinitions) {\n        var _this = this;\n        var promises = modelDefinitions.map(function (modelDefinition) {\n            return fetch(modelDefinition.path)\n                .then(function (response) { return response.text(); })\n                .then(function (text) {\n                var data = OBJParser_1.OBJParser.parse(text);\n                var model = new Model_1.Model(modelDefinition.id, data.verticies, new Uint16Array(data.indicies));\n                model.calcTangents();\n                model.calcInterleavedValues();\n                _this._models.push(model);\n            });\n        });\n        return Promise.all(promises);\n    };\n    ModelManager.prototype.find = function (id) {\n        return this._models.find(function (model) { return model.id === id; });\n    };\n    ModelManager.instance = new ModelManager();\n    return ModelManager;\n}());\nexports.ModelManager = ModelManager;\n\n\n//# sourceURL=webpack:///./lib/ModelManager.js?");

/***/ }),

/***/ "./lib/MouseDrag.js":
/*!**************************!*\
  !*** ./lib/MouseDrag.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MouseButton;\n(function (MouseButton) {\n    MouseButton[MouseButton[\"LEFT\"] = 0] = \"LEFT\";\n    MouseButton[MouseButton[\"MIDDLE\"] = 1] = \"MIDDLE\";\n    MouseButton[MouseButton[\"RIGHT\"] = 2] = \"RIGHT\";\n})(MouseButton = exports.MouseButton || (exports.MouseButton = {}));\nvar MouseStatus;\n(function (MouseStatus) {\n    MouseStatus[MouseStatus[\"UP\"] = 0] = \"UP\";\n    MouseStatus[MouseStatus[\"DOWN\"] = 1] = \"DOWN\";\n})(MouseStatus || (MouseStatus = {}));\nvar MouseDrag = /** @class */ (function () {\n    function MouseDrag(_targetDOM, _targetButton) {\n        var _this = this;\n        this._targetDOM = _targetDOM;\n        this._targetButton = _targetButton;\n        this._onDrag = undefined;\n        this._status = MouseStatus.UP;\n        this._beforePosition = { x: 0, y: 0 };\n        this._targetDOM.addEventListener('mousedown', function (e) { return _this.onMouseDown(e); });\n        this._targetDOM.addEventListener('mousemove', function (e) { return _this.onMouseMove(e); });\n        this._targetDOM.addEventListener('mouseup', function (e) { return _this.onMouseUp(e); });\n    }\n    Object.defineProperty(MouseDrag.prototype, \"onDrag\", {\n        set: function (callback) {\n            this._onDrag = callback;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MouseDrag.prototype.onMouseDown = function (e) {\n        if (e.button === this._targetButton) {\n            this._status = MouseStatus.DOWN;\n            this._beforePosition.x = e.clientX;\n            this._beforePosition.y = e.clientY;\n        }\n    };\n    MouseDrag.prototype.onMouseMove = function (e) {\n        if (this._status === MouseStatus.DOWN) {\n            if (this._onDrag !== undefined) {\n                var movePosition = {\n                    x: e.clientX - this._beforePosition.x,\n                    y: e.clientY - this._beforePosition.y\n                };\n                this._onDrag(movePosition.x, movePosition.y);\n                this._beforePosition.x = e.clientX;\n                this._beforePosition.y = e.clientY;\n            }\n        }\n    };\n    MouseDrag.prototype.onMouseUp = function (e) {\n        if (e.button === this._targetButton) {\n            this._status = MouseStatus.UP;\n        }\n    };\n    return MouseDrag;\n}());\nexports.MouseDrag = MouseDrag;\n\n\n//# sourceURL=webpack:///./lib/MouseDrag.js?");

/***/ }),

/***/ "./lib/OBJParser.js":
/*!**************************!*\
  !*** ./lib/OBJParser.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Model_1 = __webpack_require__(/*! ./Model */ \"./lib/Model.js\");\nvar float32vector_1 = __webpack_require__(/*! ./float32vector */ \"./lib/float32vector.js\");\nvar OBJParser = /** @class */ (function () {\n    function OBJParser() {\n    }\n    OBJParser.parse = function (objData) {\n        var data = OBJParser.extractOBJData(objData);\n        var fiMap = []; // data.fから重複を取り除いたもの\n        var indexArray = [];\n        data.f.forEach(function (f) {\n            var index = fiMap.findIndex(function (item) { return item === f; });\n            if (index === -1) {\n                // 新規\n                index = fiMap.length;\n                var newItem = f;\n                fiMap.push(newItem);\n            }\n            indexArray.push(index);\n        });\n        var vertexArrayTmp = [];\n        var texCoordArrayTmp = [];\n        var normalArrayTmp = [];\n        fiMap.forEach(function (fi) {\n            var splitData = fi.split('/');\n            if (splitData.length !== 3)\n                console.error('fのデータが不正です。');\n            var vertex = Number(splitData[0]) - 1;\n            var texCoord = Number(splitData[1]) - 1;\n            var normal = Number(splitData[2]) - 1;\n            vertexArrayTmp.push(data.v[vertex]);\n            texCoordArrayTmp.push(data.vt[texCoord]);\n            normalArrayTmp.push(data.vn[normal]);\n        });\n        var vertexArrayTmp2 = vertexArrayTmp.reduce(function (ac, current) { return ac.concat(current); });\n        var texCoordArrayTmp2 = texCoordArrayTmp.reduce(function (ac, current) { return ac.concat(current); });\n        var normalArrayTmp2 = normalArrayTmp.reduce(function (ac, current) { return ac.concat(current); });\n        var vertexArray = vertexArrayTmp2.map(function (item) { return Number(item); });\n        var texCoordArray = texCoordArrayTmp2.map(function (item) { return Number(item); });\n        var normalArray = normalArrayTmp2.map(function (item) { return Number(item); });\n        var vertexDataArray = [];\n        while (true) {\n            if (vertexArray.length <= 0)\n                break;\n            var vertex = vertexArray.splice(0, 3);\n            var normal = normalArray.splice(0, 3);\n            var textureCoord = texCoordArray.splice(0, 2);\n            var data_1 = new Model_1.VertexData(new float32vector_1.Float32Vector3(vertex[0], vertex[1], vertex[2]), new float32vector_1.Float32Vector3(normal[0], normal[1], normal[2]), new float32vector_1.Float32Vector2(textureCoord[0], textureCoord[1]));\n            vertexDataArray.push(data_1);\n        }\n        return {\n            verticies: vertexDataArray,\n            indicies: indexArray,\n        };\n    };\n    // objデータから'v','vn','f'を抽出し\n    // {\n    //    v: [ [1,0,0,], [0,1,0], ... ],\n    //    vn: [ [1,0,0,], [0,0,1], ... ],\n    //    f: [ '2//1', '3//1', '1//1', ... ],\n    // }\n    // の形式で返却\n    OBJParser.extractOBJData = function (objData) {\n        var out = {\n            v: [],\n            vt: [],\n            vn: [],\n            f: [],\n        };\n        var newLine = /\\r\\n|\\r|\\n/;\n        var lines = objData.split(newLine);\n        var f = [];\n        lines.forEach(function (line) {\n            var words = line.split(' ');\n            var id = words.shift();\n            switch (id) {\n                case 'v':\n                    out.v.push(words);\n                    break;\n                case 'vt':\n                    out.vt.push(words);\n                    break;\n                case 'vn':\n                    out.vn.push(words);\n                    break;\n                case 'f':\n                    if (words.length !== 3)\n                        console.error('三角面でないポリゴンが含まれています。');\n                    f.push(words);\n                    break;\n                default:\n                    break;\n            }\n        });\n        var newF = f.reduce(function (ac, current) { return ac.concat(current); });\n        out.f = newF;\n        return out;\n    };\n    return OBJParser;\n}());\nexports.OBJParser = OBJParser;\n\n\n//# sourceURL=webpack:///./lib/OBJParser.js?");

/***/ }),

/***/ "./lib/OreOreWebGL.js":
/*!****************************!*\
  !*** ./lib/OreOreWebGL.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ShaderManager_1 = __webpack_require__(/*! ./ShaderManager */ \"./lib/ShaderManager.js\");\nvar TextureManager_1 = __webpack_require__(/*! ./TextureManager */ \"./lib/TextureManager.js\");\nvar MaterialManager_1 = __webpack_require__(/*! ./MaterialManager */ \"./lib/MaterialManager.js\");\nvar ModelManager_1 = __webpack_require__(/*! ./ModelManager */ \"./lib/ModelManager.js\");\nvar OreOreWebGL = /** @class */ (function () {\n    function OreOreWebGL(_canvas, shaderDefinitionArray, textureDefinitionArray, modelDefinitionArray, materialDefinitionArray, _onLoad) {\n        var _this = this;\n        this._canvas = _canvas;\n        this._onLoad = _onLoad;\n        this._templates = [];\n        this._timer = null;\n        var gl = this._canvas.getContext('webgl');\n        if (gl !== null) {\n            this._gl = gl;\n            ShaderManager_1.ShaderManager.instance.setContext(gl);\n            var loadShaderPromise = ShaderManager_1.ShaderManager.instance.loadShaders(shaderDefinitionArray);\n            TextureManager_1.TextureManager.instance.setContext(gl);\n            var loadTexturePromise = TextureManager_1.TextureManager.instance.loadTextures(textureDefinitionArray);\n            var loadModelPromise = ModelManager_1.ModelManager.instance.loadModels(modelDefinitionArray);\n            Promise.all([loadShaderPromise, loadTexturePromise, loadModelPromise])\n                .then(function () {\n                MaterialManager_1.MaterialManager.instance.init(materialDefinitionArray);\n                _this._onLoad();\n            });\n        }\n        else {\n            console.error('webgl not found');\n        }\n    }\n    Object.defineProperty(OreOreWebGL.prototype, \"gl\", {\n        get: function () {\n            return this._gl;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    OreOreWebGL.prototype.mainLoop = function () {\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\n        this._templates.forEach(function (template) { return template.update(); });\n        this._templates.forEach(function (template) { return template.render(); });\n        this.gl.flush();\n    };\n    OreOreWebGL.prototype.addTemplate = function (template) {\n        this._templates.push(template);\n    };\n    OreOreWebGL.prototype.play = function () {\n        var _this = this;\n        if (this._timer !== null)\n            return;\n        this._timer = setInterval(function () {\n            _this.mainLoop();\n        }, 33);\n    };\n    OreOreWebGL.prototype.pause = function () {\n        if (this._timer !== null)\n            clearInterval(this._timer);\n    };\n    return OreOreWebGL;\n}());\nexports.OreOreWebGL = OreOreWebGL;\n\n\n//# sourceURL=webpack:///./lib/OreOreWebGL.js?");

/***/ }),

/***/ "./lib/ShaderManager.js":
/*!******************************!*\
  !*** ./lib/ShaderManager.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar matrix_1 = __webpack_require__(/*! ./matrix */ \"./lib/matrix.js\");\nvar ShaderUniform_1 = __webpack_require__(/*! ./ShaderUniform */ \"./lib/ShaderUniform.js\");\nvar Shader = /** @class */ (function () {\n    function Shader(gl, id, vSource, fSource, fixedUniforms, customUniforms) {\n        var _this = this;\n        this.gl = gl;\n        // 固定ユニフォーム（mvpMatrix等、どのシェーダーでも設定されるもの）\n        this._fixedUniforms = [];\n        // カスタムユニフォーム（法線マップ、メタリック等、シェーダー毎に設定されるもの）\n        this._customUniforms = [];\n        this._id = id;\n        // uniformの設定\n        fixedUniforms.forEach(function (uniform) {\n            switch (uniform) {\n                case 'modelMatrix':\n                case 'viewMatrix':\n                case 'projectionMatrix':\n                    _this._fixedUniforms.push(new ShaderUniform_1.ShaderUniformMatrix4(uniform, matrix_1.Matrix4x4.identity));\n                    break;\n                case 'worldCameraPosition':\n                    _this._fixedUniforms.push(new ShaderUniform_1.ShaderUniformVector3('worldCameraPosition', [0, 0, 0]));\n                    break;\n                default:\n                    console.error(\"undefined fixed uniform \" + uniform);\n            }\n        });\n        this._customUniforms = this._customUniforms.concat(customUniforms);\n        // vertex shaderのコンパイル\n        var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vertexShader, vSource);\n        gl.compileShader(vertexShader);\n        // コンパイルが成功したかどうかのチェック\n        var vShaderCompileStatus = gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS);\n        if (!vShaderCompileStatus) {\n            var info = gl.getShaderInfoLog(vertexShader);\n            console.error(info);\n        }\n        // fragment shaderのコンパイル\n        var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fragmentShader, fSource);\n        gl.compileShader(fragmentShader);\n        var fShaderCompileStatus = gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS);\n        if (!fShaderCompileStatus) {\n            var info = gl.getShaderInfoLog(fragmentShader);\n            console.error(info);\n        }\n        // シェーダープログラムの作成\n        var program = gl.createProgram();\n        gl.attachShader(program, vertexShader);\n        gl.attachShader(program, fragmentShader);\n        gl.linkProgram(program);\n        var linkStatus = gl.getProgramParameter(program, gl.LINK_STATUS);\n        if (!linkStatus) {\n            var info = gl.getProgramInfoLog(program);\n            console.error(info);\n        }\n        if (program !== null) {\n            this._program = program;\n        }\n        else {\n            console.error('program is null');\n        }\n    }\n    Object.defineProperty(Shader.prototype, \"program\", {\n        get: function () {\n            return this._program;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shader.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shader.prototype, \"fixedUniforms\", {\n        get: function () {\n            return this._fixedUniforms;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shader.prototype, \"customUniforms\", {\n        get: function () {\n            return this._customUniforms;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Shader.prototype, \"uniforms\", {\n        get: function () {\n            return this._fixedUniforms.concat(this._customUniforms);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Shader.prototype.findUniform = function (name) {\n        return this.uniforms.find(function (uniform) { return uniform.name === name; });\n    };\n    // TODO: ここでvalueがanyになってしまうことをなんとかしたい\n    Shader.prototype.setUniform = function (name, value) {\n        var uniform = this.findUniform(name);\n        if (uniform !== undefined) {\n            uniform.setGLUniform(this.gl, this._program, value);\n        }\n        else {\n            console.error(\"uniform \" + name + \" is not found.\");\n        }\n    };\n    return Shader;\n}());\nexports.Shader = Shader;\nvar ShaderManager = /** @class */ (function () {\n    function ShaderManager() {\n        this._shaders = [];\n    }\n    ShaderManager.prototype.setContext = function (gl) {\n        this._gl = gl;\n    };\n    ShaderManager.prototype.loadShaders = function (shaderDefinitionArray) {\n        var _this = this;\n        var promises = shaderDefinitionArray.map(function (item) { return _this.loadShader(item); });\n        return Promise.all(promises);\n    };\n    ShaderManager.prototype.loadShader = function (options) {\n        var _this = this;\n        var loadVertexShader = fetch(\"./shaders/\" + options.id + \"/vertex_shader.glsl\");\n        var loadFragmentShader = fetch(\"./shaders/\" + options.id + \"/fragment_shader.glsl\");\n        var cUniforms = [];\n        options.customUniforms.forEach(function (uniform) {\n            var uniformBase;\n            switch (uniform.type) {\n                case 'color':\n                    uniformBase = new ShaderUniform_1.ShaderUniformColor(uniform.name, uniform.options.default);\n                    break;\n                case 'vector3':\n                    uniformBase = new ShaderUniform_1.ShaderUniformVector3(uniform.name, uniform.options.default);\n                    break;\n                case 'float':\n                    uniformBase = new ShaderUniform_1.ShaderUniformFloat(uniform.name, uniform.options.default);\n                    break;\n                case 'texture':\n                    uniformBase = new ShaderUniform_1.ShaderUniformTexture(uniform.name, uniform.options.default, uniform.options.index);\n                    break;\n                case 'cubemap':\n                    uniformBase = new ShaderUniform_1.ShaderUniformTextureCubemap(uniform.name, uniform.options.default, uniform.options.index);\n                    break;\n                default:\n                    console.error(\"uniform type \" + uniform.type + \" is invalid.\");\n                    return;\n            }\n            cUniforms.push(uniformBase);\n        });\n        return Promise.all([loadVertexShader, loadFragmentShader])\n            .then(function (response) { return Promise.all([response[0].text(), response[1].text()]); })\n            .then(function (shaderSources) {\n            var vertexShaderSource = shaderSources[0];\n            var fragmentShaderSource = shaderSources[1];\n            var shader = new Shader(_this._gl, options.id, vertexShaderSource, fragmentShaderSource, options.fixedUniforms, cUniforms);\n            _this._shaders.push(shader);\n        });\n    };\n    ShaderManager.prototype.find = function (id) {\n        return this._shaders.find(function (shader) { return shader.id === id; });\n    };\n    ShaderManager.instance = new ShaderManager();\n    return ShaderManager;\n}());\nexports.ShaderManager = ShaderManager;\n\n\n//# sourceURL=webpack:///./lib/ShaderManager.js?");

/***/ }),

/***/ "./lib/ShaderUniform.js":
/*!******************************!*\
  !*** ./lib/ShaderUniform.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TextureManager_1 = __webpack_require__(/*! ./TextureManager */ \"./lib/TextureManager.js\");\nvar ShaderUniformType;\n(function (ShaderUniformType) {\n    ShaderUniformType[ShaderUniformType[\"Color\"] = 0] = \"Color\";\n    ShaderUniformType[ShaderUniformType[\"Texture\"] = 1] = \"Texture\";\n    ShaderUniformType[ShaderUniformType[\"TextureCubemap\"] = 2] = \"TextureCubemap\";\n    ShaderUniformType[ShaderUniformType[\"Float\"] = 3] = \"Float\";\n    ShaderUniformType[ShaderUniformType[\"Vector3\"] = 4] = \"Vector3\";\n    ShaderUniformType[ShaderUniformType[\"Matrix4\"] = 5] = \"Matrix4\";\n})(ShaderUniformType = exports.ShaderUniformType || (exports.ShaderUniformType = {}));\nvar ShaderUniformBase = /** @class */ (function () {\n    function ShaderUniformBase(_name, _type) {\n        this._name = _name;\n        this._type = _type;\n    }\n    Object.defineProperty(ShaderUniformBase.prototype, \"type\", {\n        get: function () {\n            return this._type;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ShaderUniformBase.prototype, \"name\", {\n        get: function () {\n            return this._name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return ShaderUniformBase;\n}());\nexports.ShaderUniformBase = ShaderUniformBase;\nvar ShaderUniformColor = /** @class */ (function (_super) {\n    __extends(ShaderUniformColor, _super);\n    function ShaderUniformColor(name, _defaultValue) {\n        var _this = _super.call(this, name, ShaderUniformType.Color) || this;\n        _this._defaultValue = _defaultValue;\n        return _this;\n    }\n    Object.defineProperty(ShaderUniformColor.prototype, \"defaultValue\", {\n        get: function () {\n            return this._defaultValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShaderUniformColor.prototype.setGLUniform = function (context, program, value) {\n        if (value.length !== 4) {\n            console.error(\"value length is invalid.\");\n            return;\n        }\n        var location = context.getUniformLocation(program, this._name);\n        if (location !== null)\n            context.uniform4f(location, value[0], value[1], value[2], value[3]);\n        else\n            console.error(this.name + \" location is null.\");\n    };\n    return ShaderUniformColor;\n}(ShaderUniformBase));\nexports.ShaderUniformColor = ShaderUniformColor;\nvar ShaderUniformVector3 = /** @class */ (function (_super) {\n    __extends(ShaderUniformVector3, _super);\n    function ShaderUniformVector3(name, _defaultValue) {\n        var _this = _super.call(this, name, ShaderUniformType.Color) || this;\n        _this._defaultValue = _defaultValue;\n        return _this;\n    }\n    Object.defineProperty(ShaderUniformVector3.prototype, \"defaultValue\", {\n        get: function () {\n            return this._defaultValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShaderUniformVector3.prototype.setGLUniform = function (context, program, value) {\n        if (value.length !== 3) {\n            console.error(this.name + \" value length is invalid.\");\n            return;\n        }\n        var location = context.getUniformLocation(program, this._name);\n        if (location !== null)\n            context.uniform3f(location, value[0], value[1], value[2]);\n        else\n            console.error(this.name + \" location is null.\");\n    };\n    return ShaderUniformVector3;\n}(ShaderUniformBase));\nexports.ShaderUniformVector3 = ShaderUniformVector3;\nvar ShaderUniformMatrix4 = /** @class */ (function (_super) {\n    __extends(ShaderUniformMatrix4, _super);\n    function ShaderUniformMatrix4(name, _defaultValue) {\n        var _this = _super.call(this, name, ShaderUniformType.Matrix4) || this;\n        _this._defaultValue = _defaultValue;\n        return _this;\n    }\n    Object.defineProperty(ShaderUniformMatrix4.prototype, \"defaultValue\", {\n        get: function () {\n            return this._defaultValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShaderUniformMatrix4.prototype.setGLUniform = function (context, program, value) {\n        var location = context.getUniformLocation(program, this._name);\n        context.uniformMatrix4fv(location, false, value.values);\n    };\n    return ShaderUniformMatrix4;\n}(ShaderUniformBase));\nexports.ShaderUniformMatrix4 = ShaderUniformMatrix4;\nvar ShaderUniformTexture = /** @class */ (function (_super) {\n    __extends(ShaderUniformTexture, _super);\n    // TODO: デフォルト値として、色を与えることが可能なようにする\n    function ShaderUniformTexture(name, _defaultValue, _index) {\n        var _this = _super.call(this, name, ShaderUniformType.Color) || this;\n        _this._defaultValue = _defaultValue;\n        _this._index = _index;\n        return _this;\n    }\n    Object.defineProperty(ShaderUniformTexture.prototype, \"defaultValue\", {\n        get: function () {\n            return this._defaultValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShaderUniformTexture.prototype.setGLUniform = function (context, program, value) {\n        var textureMap = [\n            context.TEXTURE0,\n            context.TEXTURE1,\n            context.TEXTURE2,\n            context.TEXTURE3,\n            context.TEXTURE4,\n            context.TEXTURE5,\n            context.TEXTURE6,\n            context.TEXTURE7,\n            context.TEXTURE8,\n            context.TEXTURE9,\n        ];\n        var texture = TextureManager_1.TextureManager.instance.find(value);\n        if (texture === undefined) {\n            console.error(\"texture \" + value + \" is not found.\");\n            return;\n        }\n        var location = context.getUniformLocation(program, this._name);\n        context.activeTexture(textureMap[this._index]);\n        context.bindTexture(context.TEXTURE_2D, texture.texture);\n        context.uniform1i(location, this._index);\n    };\n    return ShaderUniformTexture;\n}(ShaderUniformBase));\nexports.ShaderUniformTexture = ShaderUniformTexture;\nvar ShaderUniformTextureCubemap = /** @class */ (function (_super) {\n    __extends(ShaderUniformTextureCubemap, _super);\n    // TODO: デフォルト値として、色を与えることが可能なようにする\n    function ShaderUniformTextureCubemap(name, _defaultValue, _index) {\n        var _this = _super.call(this, name, ShaderUniformType.Color) || this;\n        _this._defaultValue = _defaultValue;\n        _this._index = _index;\n        return _this;\n    }\n    Object.defineProperty(ShaderUniformTextureCubemap.prototype, \"defaultValue\", {\n        get: function () {\n            return this._defaultValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShaderUniformTextureCubemap.prototype.setGLUniform = function (context, program, value) {\n        var textureMap = [\n            context.TEXTURE0,\n            context.TEXTURE1,\n            context.TEXTURE2,\n            context.TEXTURE3,\n            context.TEXTURE4,\n            context.TEXTURE5,\n            context.TEXTURE6,\n            context.TEXTURE7,\n            context.TEXTURE8,\n            context.TEXTURE9,\n        ];\n        var texture = TextureManager_1.TextureManager.instance.find(value);\n        if (texture === undefined) {\n            console.error(\"texture \" + value + \" is not found.\");\n            return;\n        }\n        var location = context.getUniformLocation(program, this._name);\n        context.activeTexture(textureMap[this._index]);\n        context.bindTexture(context.TEXTURE_CUBE_MAP, texture.texture);\n        context.uniform1i(location, this._index);\n    };\n    return ShaderUniformTextureCubemap;\n}(ShaderUniformBase));\nexports.ShaderUniformTextureCubemap = ShaderUniformTextureCubemap;\nvar ShaderUniformFloat = /** @class */ (function (_super) {\n    __extends(ShaderUniformFloat, _super);\n    function ShaderUniformFloat(name, _defaultValue) {\n        var _this = _super.call(this, name, ShaderUniformType.Float) || this;\n        _this._defaultValue = _defaultValue;\n        return _this;\n    }\n    Object.defineProperty(ShaderUniformFloat.prototype, \"defaultValue\", {\n        get: function () {\n            return this._defaultValue;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShaderUniformFloat.prototype.setGLUniform = function (context, program, value) {\n        var location = context.getUniformLocation(program, this._name);\n        context.uniform1f(location, value);\n    };\n    return ShaderUniformFloat;\n}(ShaderUniformBase));\nexports.ShaderUniformFloat = ShaderUniformFloat;\n\n\n//# sourceURL=webpack:///./lib/ShaderUniform.js?");

/***/ }),

/***/ "./lib/SubstanceTemplate.js":
/*!**********************************!*\
  !*** ./lib/SubstanceTemplate.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MaterialManager_1 = __webpack_require__(/*! ./MaterialManager */ \"./lib/MaterialManager.js\");\nvar ModelManager_1 = __webpack_require__(/*! ./ModelManager */ \"./lib/ModelManager.js\");\nvar float32vector_1 = __webpack_require__(/*! ./float32vector */ \"./lib/float32vector.js\");\nvar transform_1 = __webpack_require__(/*! ./transform */ \"./lib/transform.js\");\nvar matrix_1 = __webpack_require__(/*! ./matrix */ \"./lib/matrix.js\");\nvar CameraManager_1 = __webpack_require__(/*! ./CameraManager */ \"./lib/CameraManager.js\");\nvar Substance = /** @class */ (function () {\n    function Substance(_template) {\n        this._template = _template;\n        this._velocity = new float32vector_1.Vector3(0, 0, 0);\n        this._angularVelocity = new float32vector_1.Vector3(0, 0, 0);\n        this._transform = new transform_1.Transform();\n    }\n    Object.defineProperty(Substance.prototype, \"transform\", {\n        get: function () {\n            return this._transform;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Substance.prototype, \"velocity\", {\n        set: function (velocity) {\n            this._velocity = velocity;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Substance.prototype, \"angularVelocity\", {\n        set: function (velocity) {\n            this._angularVelocity = velocity;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Substance.prototype.update = function () {\n        this.transform.addPosition(this._velocity.x, this._velocity.y, this._velocity.z);\n        this.transform.addRotation(this._angularVelocity.x, this._angularVelocity.y, this._angularVelocity.z);\n    };\n    Substance.prototype.render = function (context, indexSize) {\n        var _this = this;\n        var cameraManagerInstance = CameraManager_1.CameraManager.instance;\n        var projectionMatrix = matrix_1.Matrix4x4.perspective({\n            fovYRadian: 1.1,\n            aspectRatio: cameraManagerInstance.aspect,\n            near: 0.001,\n            far: 1000,\n        });\n        var camera = cameraManagerInstance.activeCamera;\n        var viewMatrix = camera.transform.matrix.inverse();\n        this._template.material.shader.fixedUniforms.forEach(function (uniform) {\n            switch (uniform.name) {\n                case 'modelMatrix':\n                    _this._template.material.shader.setUniform('modelMatrix', _this._transform.matrix);\n                    break;\n                case 'viewMatrix':\n                    _this._template.material.shader.setUniform('viewMatrix', viewMatrix);\n                    break;\n                case 'projectionMatrix':\n                    _this._template.material.shader.setUniform('projectionMatrix', projectionMatrix);\n                    break;\n                case 'worldCameraPosition':\n                    _this._template.material.shader.setUniform('worldCameraPosition', camera.transform.position.values);\n                    break;\n                default:\n                    console.error(\"undefined uniform \" + uniform.name);\n            }\n        });\n        this._template.material.attachUniforms();\n        context.drawElements(context.TRIANGLES, indexSize, context.UNSIGNED_SHORT, 0);\n    };\n    return Substance;\n}());\nexports.Substance = Substance;\nvar SubstanceTemplate = /** @class */ (function () {\n    function SubstanceTemplate(context, modelID, materialID) {\n        this._substances = [];\n        this._gl = context;\n        var model = ModelManager_1.ModelManager.instance.find(modelID);\n        if (model !== undefined) {\n            this._model = model;\n        }\n        else {\n            console.error(\"model \" + modelID + \" not found.\");\n        }\n        var material = MaterialManager_1.MaterialManager.instance.find(materialID);\n        if (material !== undefined) {\n            this._material = material;\n        }\n        else {\n            console.error(\"material \" + materialID + \" is not found.\");\n        }\n    }\n    Object.defineProperty(SubstanceTemplate.prototype, \"material\", {\n        get: function () {\n            return this._material;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    SubstanceTemplate.prototype.instantiate = function () {\n        var substance = new Substance(this);\n        this._substances.push(substance);\n        return substance;\n    };\n    SubstanceTemplate.prototype.update = function () {\n        this._substances.forEach(function (substance) { return substance.update(); });\n    };\n    SubstanceTemplate.prototype.render = function () {\n        var _this = this;\n        this._gl.useProgram(this._material.shader.program);\n        this._gl.enable(this._gl.DEPTH_TEST);\n        this._gl.enable(this._gl.CULL_FACE);\n        var vertexBuffer = this._gl.createBuffer();\n        var indexBuffer = this._gl.createBuffer();\n        var vertexAttribLocation = this._gl.getAttribLocation(this._material.shader.program, 'position');\n        var normalAttribLocation = this._gl.getAttribLocation(this._material.shader.program, 'normal');\n        var tangentAttribLocation = this._gl.getAttribLocation(this._material.shader.program, 'tangent');\n        var binormalAttribLocation = this._gl.getAttribLocation(this._material.shader.program, 'binormal');\n        var uvAttribLocation = this._gl.getAttribLocation(this._material.shader.program, 'texCoord');\n        var VERTEX_SIZE = 3;\n        var NORMAL_SIZE = 3;\n        var TANGENT_SIZE = 3;\n        var BINORMAL_SIZE = 3;\n        var UV_SIZE = 2;\n        var STRIDE = (VERTEX_SIZE + NORMAL_SIZE + TANGENT_SIZE + BINORMAL_SIZE + UV_SIZE) * Float32Array.BYTES_PER_ELEMENT;\n        var POSITION_OFFSET = 0;\n        var NORMAL_OFFSET = VERTEX_SIZE * Float32Array.BYTES_PER_ELEMENT;\n        var TANGENT_OFFSET = (VERTEX_SIZE + NORMAL_SIZE) * Float32Array.BYTES_PER_ELEMENT;\n        var BINORMAL_OFFSET = (VERTEX_SIZE + NORMAL_SIZE + TANGENT_SIZE) * Float32Array.BYTES_PER_ELEMENT;\n        var UV_OFFSET = (VERTEX_SIZE + NORMAL_SIZE + TANGENT_SIZE + BINORMAL_SIZE) * Float32Array.BYTES_PER_ELEMENT;\n        this._gl.bindBuffer(this._gl.ARRAY_BUFFER, vertexBuffer);\n        this._gl.enableVertexAttribArray(vertexAttribLocation);\n        this._gl.enableVertexAttribArray(normalAttribLocation);\n        this._gl.enableVertexAttribArray(tangentAttribLocation);\n        this._gl.enableVertexAttribArray(binormalAttribLocation);\n        this._gl.enableVertexAttribArray(uvAttribLocation);\n        this._gl.vertexAttribPointer(vertexAttribLocation, VERTEX_SIZE, this._gl.FLOAT, false, STRIDE, POSITION_OFFSET);\n        this._gl.vertexAttribPointer(normalAttribLocation, NORMAL_SIZE, this._gl.FLOAT, false, STRIDE, NORMAL_OFFSET);\n        this._gl.vertexAttribPointer(tangentAttribLocation, TANGENT_SIZE, this._gl.FLOAT, false, STRIDE, TANGENT_OFFSET);\n        this._gl.vertexAttribPointer(binormalAttribLocation, BINORMAL_SIZE, this._gl.FLOAT, false, STRIDE, BINORMAL_OFFSET);\n        this._gl.vertexAttribPointer(uvAttribLocation, UV_SIZE, this._gl.FLOAT, false, STRIDE, UV_OFFSET);\n        var vertices = this._model.interleaved;\n        var indices = this._model.indices;\n        this._gl.bindBuffer(this._gl.ARRAY_BUFFER, vertexBuffer);\n        this._gl.bufferData(this._gl.ARRAY_BUFFER, vertices, this._gl.STATIC_DRAW);\n        this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER, indexBuffer);\n        this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER, indices, this._gl.STATIC_DRAW);\n        var indexSize = indices.length;\n        this._substances.forEach(function (substance) { return substance.render(_this._gl, indexSize); });\n    };\n    return SubstanceTemplate;\n}());\nexports.SubstanceTemplate = SubstanceTemplate;\n\n\n//# sourceURL=webpack:///./lib/SubstanceTemplate.js?");

/***/ }),

/***/ "./lib/TextureManager.js":
/*!*******************************!*\
  !*** ./lib/TextureManager.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\n;\nvar Texture = /** @class */ (function () {\n    function Texture(_id, _texture) {\n        this._id = _id;\n        this._texture = _texture;\n    }\n    Object.defineProperty(Texture.prototype, \"id\", {\n        get: function () {\n            return this._id;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Texture.prototype, \"texture\", {\n        get: function () {\n            return this._texture;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Texture;\n}());\nexports.Texture = Texture;\nvar TextureManager = /** @class */ (function () {\n    function TextureManager() {\n        this._textures = [];\n    }\n    TextureManager.prototype.setContext = function (context) {\n        this._gl = context;\n    };\n    TextureManager.prototype.loadTextures = function (textures) {\n        var _this = this;\n        var promises = textures.map(function (textureDefinition) {\n            var type = textureDefinition.type;\n            switch (type) {\n                case 'normal':\n                    return _this.loadTexture(textureDefinition);\n                case 'cubemap':\n                    return _this.loadCubemapTexture(textureDefinition);\n                default:\n                    console.error(\"texture type \" + type + \" is invalid.\");\n                    return Promise.resolve();\n            }\n        });\n        return Promise.all(promises);\n    };\n    TextureManager.prototype.loadTexture = function (textureDefinition) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var image = new Image();\n            image.onload = function () {\n                var tex = _this._gl.createTexture();\n                _this._gl.bindTexture(_this._gl.TEXTURE_2D, tex);\n                _this._gl.texImage2D(_this._gl.TEXTURE_2D, 0, _this._gl.RGBA, _this._gl.RGBA, _this._gl.UNSIGNED_BYTE, image);\n                _this._gl.generateMipmap(_this._gl.TEXTURE_2D);\n                _this._gl.bindTexture(_this._gl.TEXTURE_2D, null);\n                if (tex !== null) {\n                    var texture = new Texture(textureDefinition.id, tex);\n                    _this._textures.push(texture);\n                    resolve();\n                }\n                else {\n                    reject();\n                }\n            };\n            image.src = textureDefinition.path;\n        });\n    };\n    TextureManager.prototype.loadCubemapTexture = function (textureDefinition) {\n        var _this = this;\n        var imageArray = [\n            {\n                name: 'posx.jpg',\n                target: this._gl.TEXTURE_CUBE_MAP_POSITIVE_X,\n            },\n            {\n                name: 'posy.jpg',\n                target: this._gl.TEXTURE_CUBE_MAP_POSITIVE_Y,\n            },\n            {\n                name: 'posz.jpg',\n                target: this._gl.TEXTURE_CUBE_MAP_POSITIVE_Z,\n            },\n            {\n                name: 'negx.jpg',\n                target: this._gl.TEXTURE_CUBE_MAP_NEGATIVE_X,\n            },\n            {\n                name: 'negy.jpg',\n                target: this._gl.TEXTURE_CUBE_MAP_NEGATIVE_Y,\n            },\n            {\n                name: 'negz.jpg',\n                target: this._gl.TEXTURE_CUBE_MAP_NEGATIVE_Z,\n            },\n        ];\n        var promises = imageArray.map(function (image) {\n            return new Promise(function (resolve) {\n                var imageElement = new Image;\n                imageElement.onload = function () {\n                    resolve({\n                        target: image.target,\n                        data: imageElement,\n                    });\n                };\n                imageElement.src = textureDefinition.path + '/' + image.name;\n            });\n        });\n        return Promise.all(promises)\n            .then(function (images) {\n            var tex = _this._gl.createTexture();\n            _this._gl.bindTexture(_this._gl.TEXTURE_CUBE_MAP, tex);\n            images.forEach(function (image) {\n                _this._gl.texImage2D(image.target, 0, _this._gl.RGBA, _this._gl.RGBA, _this._gl.UNSIGNED_BYTE, image.data);\n            });\n            _this._gl.generateMipmap(_this._gl.TEXTURE_CUBE_MAP);\n            _this._gl.texParameteri(_this._gl.TEXTURE_CUBE_MAP, _this._gl.TEXTURE_MIN_FILTER, _this._gl.LINEAR);\n            _this._gl.texParameteri(_this._gl.TEXTURE_CUBE_MAP, _this._gl.TEXTURE_MAG_FILTER, _this._gl.LINEAR);\n            _this._gl.texParameteri(_this._gl.TEXTURE_CUBE_MAP, _this._gl.TEXTURE_WRAP_S, _this._gl.CLAMP_TO_EDGE);\n            _this._gl.texParameteri(_this._gl.TEXTURE_CUBE_MAP, _this._gl.TEXTURE_WRAP_T, _this._gl.CLAMP_TO_EDGE);\n            if (tex !== null) {\n                var texture = new Texture(textureDefinition.id, tex);\n                _this._textures.push(texture);\n            }\n            else {\n                console.error(\"cubemap texture \" + textureDefinition.id + \" load failed.\");\n            }\n            _this._gl.bindTexture(_this._gl.TEXTURE_CUBE_MAP, null);\n        });\n    };\n    TextureManager.prototype.find = function (id) {\n        return this._textures.find(function (texture) { return texture.id == id; });\n    };\n    TextureManager.instance = new TextureManager();\n    return TextureManager;\n}());\nexports.TextureManager = TextureManager;\n\n\n//# sourceURL=webpack:///./lib/TextureManager.js?");

/***/ }),

/***/ "./lib/float32vector.js":
/*!******************************!*\
  !*** ./lib/float32vector.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar vector_base_1 = __webpack_require__(/*! ./vector_base */ \"./lib/vector_base.js\");\nvar Float32Vector2 = /** @class */ (function (_super) {\n    __extends(Float32Vector2, _super);\n    function Float32Vector2(x, y) {\n        var _this = _super.call(this) || this;\n        _this._values = new Float32Array([x, y]);\n        return _this;\n    }\n    Float32Vector2.prototype.add = function (other) {\n        return new Float32Vector2(this.x + other.x, this.y + other.y);\n    };\n    Float32Vector2.prototype.sub = function (other) {\n        return new Float32Vector2(this.x - other.x, this.y - other.y);\n    };\n    Float32Vector2.prototype.mulByScalar = function (scalar) {\n        return new Float32Vector2(this.x * scalar, this.y * scalar);\n    };\n    Float32Vector2.prototype.dot = function (other) {\n        return this.x * other.x + this.y * other.y;\n    };\n    Float32Vector2.prototype.normalize = function () {\n        if (this.magnitude === 0)\n            return this;\n        return this.mulByScalar(1 / this.magnitude);\n    };\n    return Float32Vector2;\n}(vector_base_1.Vector2Base));\nexports.Float32Vector2 = Float32Vector2;\nvar Float32Vector3 = /** @class */ (function (_super) {\n    __extends(Float32Vector3, _super);\n    function Float32Vector3(x, y, z) {\n        var _this = _super.call(this) || this;\n        _this._values = new Float32Array([x, y, z]);\n        return _this;\n    }\n    Float32Vector3.prototype.add = function (other) {\n        return new Float32Vector3(this.x + other.x, this.y + other.y, this.z + other.z);\n    };\n    Float32Vector3.prototype.sub = function (other) {\n        return new Float32Vector3(this.x - other.x, this.y - other.y, this.z - other.z);\n    };\n    Float32Vector3.prototype.mulByScalar = function (scalar) {\n        return new Float32Vector3(this.x * scalar, this.y * scalar, this.z * scalar);\n    };\n    Float32Vector3.prototype.dot = function (other) {\n        return this.x * other.x + this.y * other.y + this.z * other.z;\n    };\n    Float32Vector3.prototype.cross = function (other) {\n        var cx = this.y * other.z - this.z * other.y;\n        var cy = this.z * other.x - this.x * other.z;\n        var cz = this.x * other.y - this.y * other.x;\n        return new Float32Vector3(cx, cy, cz);\n    };\n    Float32Vector3.prototype.normalize = function () {\n        if (this.magnitude === 0)\n            return this;\n        return this.mulByScalar(1 / this.magnitude);\n    };\n    Object.defineProperty(Float32Vector3.prototype, \"xy\", {\n        get: function () {\n            return new Float32Vector2(this.x, this.y);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Float32Vector3;\n}(vector_base_1.Vector3Base));\nexports.Float32Vector3 = Float32Vector3;\nvar Float32Vector4 = /** @class */ (function (_super) {\n    __extends(Float32Vector4, _super);\n    function Float32Vector4(x, y, z, w) {\n        var _this = _super.call(this) || this;\n        _this._values = new Float32Array([x, y, z, w]);\n        return _this;\n    }\n    Float32Vector4.prototype.add = function (other) {\n        return new Float32Vector4(this.x + other.x, this.y + other.y, this.z + other.z, this.w + other.w);\n    };\n    Float32Vector4.prototype.sub = function (other) {\n        return new Float32Vector4(this.x - other.x, this.y - other.y, this.z - other.z, this.w - other.w);\n    };\n    Float32Vector4.prototype.mulByScalar = function (scalar) {\n        return new Float32Vector4(this.x * scalar, this.y * scalar, this.z * scalar, this.w * scalar);\n    };\n    Float32Vector4.prototype.mulByMatrix = function (matrix) {\n        return new Float32Vector4((matrix.values[0] * this.x) + (matrix.values[4] * this.y) + (matrix.values[8] * this.z) + (matrix.values[12] * this.w), (matrix.values[1] * this.x) + (matrix.values[5] * this.y) + (matrix.values[9] * this.z) + (matrix.values[13] * this.w), (matrix.values[2] * this.x) + (matrix.values[6] * this.y) + (matrix.values[10] * this.z) + (matrix.values[14] * this.w), (matrix.values[3] * this.x) + (matrix.values[7] * this.y) + (matrix.values[11] * this.z) + (matrix.values[15] * this.w));\n    };\n    Float32Vector4.prototype.dot = function (other) {\n        return this.x * other.x + this.y * other.y + this.z * other.z + this.w * other.w;\n    };\n    Float32Vector4.prototype.normalize = function () {\n        if (this.magnitude === 0)\n            return this;\n        return this.mulByScalar(1 / this.magnitude);\n    };\n    Object.defineProperty(Float32Vector4.prototype, \"xyz\", {\n        get: function () {\n            return new Float32Vector3(this.x, this.y, this.z);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Float32Vector4;\n}(vector_base_1.Vector4Base));\nexports.Float32Vector4 = Float32Vector4;\nexports.Vector2 = Float32Vector2;\nexports.Vector3 = Float32Vector3;\nexports.Vector4 = Float32Vector4;\n\n\n//# sourceURL=webpack:///./lib/float32vector.js?");

/***/ }),

/***/ "./lib/index.js":
/*!**********************!*\
  !*** ./lib/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(/*! ./OreOreWebGL */ \"./lib/OreOreWebGL.js\"));\n__export(__webpack_require__(/*! ./SubstanceTemplate */ \"./lib/SubstanceTemplate.js\"));\n__export(__webpack_require__(/*! ./float32vector */ \"./lib/float32vector.js\"));\n__export(__webpack_require__(/*! ./CameraManager */ \"./lib/CameraManager.js\"));\n__export(__webpack_require__(/*! ./MouseDrag */ \"./lib/MouseDrag.js\"));\n\n\n//# sourceURL=webpack:///./lib/index.js?");

/***/ }),

/***/ "./lib/matrix.js":
/*!***********************!*\
  !*** ./lib/matrix.js ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Matrix2x2 = /** @class */ (function () {\n    function Matrix2x2(m11, m21, m12, m22) {\n        this._values = new Float32Array([\n            m11, m21,\n            m12, m22\n        ]);\n    }\n    Matrix2x2.identity = function () {\n        return new Matrix2x2(1.0, 0.0, 0.0, 1.0);\n    };\n    Object.defineProperty(Matrix2x2.prototype, \"values\", {\n        get: function () {\n            return this._values;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Matrix2x2.prototype.toString = function () {\n        return this._values.toString();\n    };\n    return Matrix2x2;\n}());\nexports.Matrix2x2 = Matrix2x2;\nvar Matrix3x3 = /** @class */ (function () {\n    function Matrix3x3(m11, m21, m31, m12, m22, m32, m13, m23, m33) {\n        this._values = new Float32Array([\n            m11, m21, m31,\n            m12, m22, m32,\n            m13, m23, m33\n        ]);\n    }\n    Matrix3x3.identity = function () {\n        return new Matrix3x3(1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 1.0);\n    };\n    Object.defineProperty(Matrix3x3.prototype, \"values\", {\n        get: function () {\n            return this._values;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Matrix3x3.prototype.toString = function () {\n        return this._values.toString();\n    };\n    return Matrix3x3;\n}());\nexports.Matrix3x3 = Matrix3x3;\nvar Matrix4x4 = /** @class */ (function () {\n    function Matrix4x4(m11, m21, m31, m41, m12, m22, m32, m42, m13, m23, m33, m43, m14, m24, m34, m44) {\n        this._values = new Float32Array([\n            m11, m21, m31, m41,\n            m12, m22, m32, m42,\n            m13, m23, m33, m43,\n            m14, m24, m34, m44\n        ]);\n    }\n    Object.defineProperty(Matrix4x4.prototype, \"values\", {\n        get: function () {\n            return this._values;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Matrix4x4.prototype.toString = function () {\n        return this._values.toString();\n    };\n    Object.defineProperty(Matrix4x4, \"identity\", {\n        /* 行列基本機能 */\n        // 単位行列\n        get: function () {\n            return new Matrix4x4(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // 逆行列\n    Matrix4x4.prototype.inverse = function () {\n        var a = this._values[0], b = this._values[4], c = this._values[8], d = this._values[12], e = this._values[1], f = this._values[5], g = this._values[9], h = this._values[13], i = this._values[2], j = this._values[6], k = this._values[10], l = this._values[14], m = this._values[3], n = this._values[7], o = this._values[11], p = this._values[15], q = a * f - b * e, r = a * g - c * e, s = a * h - d * e, t = b * g - c * f, u = b * h - d * f, v = c * h - d * g, w = i * n - j * m, x = i * o - k * m, y = i * p - l * m, z = j * o - k * n, A = j * p - l * n, B = k * p - l * o, ivd = 1 / (q * B - r * A + s * z + t * y - u * x + v * w);\n        var r11 = (f * B - g * A + h * z) * ivd;\n        var r12 = (-b * B + c * A - d * z) * ivd;\n        var r13 = (n * v - o * u + p * t) * ivd;\n        var r14 = (-j * v + k * u - l * t) * ivd;\n        var r21 = (-e * B + g * y - h * x) * ivd;\n        var r22 = (a * B - c * y + d * x) * ivd;\n        var r23 = (-m * v + o * s - p * r) * ivd;\n        var r24 = (i * v - k * s + l * r) * ivd;\n        var r31 = (e * A - f * y + h * w) * ivd;\n        var r32 = (-a * A + b * y - d * w) * ivd;\n        var r33 = (m * u - n * s + p * q) * ivd;\n        var r34 = (-i * u + j * s - l * q) * ivd;\n        var r41 = (-e * z + f * x - g * w) * ivd;\n        var r42 = (a * z - b * x + c * w) * ivd;\n        var r43 = (-m * t + n * r - o * q) * ivd;\n        var r44 = (i * t - j * r + k * q) * ivd;\n        return new Matrix4x4(r11, r21, r31, r41, r12, r22, r32, r42, r13, r23, r33, r43, r14, r24, r34, r44);\n    };\n    // 乗算\n    Matrix4x4.prototype.mulByMatrix = function (other) {\n        var m11 = this._values[0];\n        var m12 = this._values[4];\n        var m13 = this._values[8];\n        var m14 = this._values[12];\n        var m21 = this._values[1];\n        var m22 = this._values[5];\n        var m23 = this._values[9];\n        var m24 = this._values[13];\n        var m31 = this._values[2];\n        var m32 = this._values[6];\n        var m33 = this._values[10];\n        var m34 = this._values[14];\n        var m41 = this._values[3];\n        var m42 = this._values[7];\n        var m43 = this._values[11];\n        var m44 = this._values[15];\n        var o11 = other.values[0];\n        var o12 = other.values[4];\n        var o13 = other.values[8];\n        var o14 = other.values[12];\n        var o21 = other.values[1];\n        var o22 = other.values[5];\n        var o23 = other.values[9];\n        var o24 = other.values[13];\n        var o31 = other.values[2];\n        var o32 = other.values[6];\n        var o33 = other.values[10];\n        var o34 = other.values[14];\n        var o41 = other.values[3];\n        var o42 = other.values[7];\n        var o43 = other.values[11];\n        var o44 = other.values[15];\n        var r11 = (m11 * o11) + (m12 * o21) + (m13 * o31) + (m14 * o41);\n        var r12 = (m11 * o12) + (m12 * o22) + (m13 * o32) + (m14 * o42);\n        var r13 = (m11 * o13) + (m12 * o23) + (m13 * o33) + (m14 * o43);\n        var r14 = (m11 * o14) + (m12 * o24) + (m13 * o34) + (m14 * o44);\n        var r21 = (m21 * o11) + (m22 * o21) + (m23 * o31) + (m24 * o41);\n        var r22 = (m21 * o12) + (m22 * o22) + (m23 * o32) + (m24 * o42);\n        var r23 = (m21 * o13) + (m22 * o23) + (m23 * o33) + (m24 * o43);\n        var r24 = (m21 * o14) + (m22 * o24) + (m23 * o34) + (m24 * o44);\n        var r31 = (m31 * o11) + (m32 * o21) + (m33 * o31) + (m34 * o41);\n        var r32 = (m31 * o12) + (m32 * o22) + (m33 * o32) + (m34 * o42);\n        var r33 = (m31 * o13) + (m32 * o23) + (m33 * o33) + (m34 * o43);\n        var r34 = (m31 * o14) + (m32 * o24) + (m33 * o34) + (m34 * o44);\n        var r41 = (m41 * o11) + (m42 * o21) + (m43 * o31) + (m44 * o41);\n        var r42 = (m41 * o12) + (m42 * o22) + (m43 * o32) + (m44 * o42);\n        var r43 = (m41 * o13) + (m42 * o23) + (m43 * o33) + (m44 * o43);\n        var r44 = (m41 * o14) + (m42 * o24) + (m43 * o34) + (m44 * o44);\n        return new Matrix4x4(r11, r21, r31, r41, r12, r22, r32, r42, r13, r23, r33, r43, r14, r24, r34, r44);\n    };\n    Matrix4x4.mul = function (a, b) {\n        return a.mulByMatrix(b);\n    };\n    /* 変形機能 */\n    // 移動\n    Matrix4x4.translation = function (tx, ty, tz) {\n        return new Matrix4x4(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, tx, ty, tz, 1.0);\n    };\n    Matrix4x4.prototype.translate = function (tx, ty, tz) {\n        return this.mulByMatrix(Matrix4x4.translation(tx, ty, tz));\n    };\n    // 拡大\n    Matrix4x4.scaling = function (sx, sy, sz) {\n        return new Matrix4x4(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    };\n    Matrix4x4.prototype.scale = function (sx, sy, sz) {\n        return this.mulByMatrix(Matrix4x4.scaling(sx, sy, sz));\n    };\n    // 回転\n    Matrix4x4.rotationX = function (angle) {\n        var radian = (angle / 180) * Math.PI;\n        var sin = Math.sin(radian);\n        var cos = Math.cos(radian);\n        return new Matrix4x4(1, 0, 0, 0, 0, cos, sin, 0, 0, -sin, cos, 0, 0, 0, 0, 1);\n    };\n    Matrix4x4.rotationY = function (angle) {\n        var radian = (angle / 180) * Math.PI;\n        var sin = Math.sin(radian);\n        var cos = Math.cos(radian);\n        return new Matrix4x4(cos, 0, -sin, 0, 0, 1, 0, 0, sin, 0, cos, 0, 0, 0, 0, 1);\n    };\n    Matrix4x4.rotationZ = function (angle) {\n        var radian = (angle / 180) * Math.PI;\n        var sin = Math.sin(radian);\n        var cos = Math.cos(radian);\n        return new Matrix4x4(cos, sin, 0, 0, -sin, cos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    };\n    Matrix4x4.prototype.rotateX = function (angle) {\n        return this.mulByMatrix(Matrix4x4.rotationX(angle));\n    };\n    Matrix4x4.prototype.rotateY = function (angle) {\n        return this.mulByMatrix(Matrix4x4.rotationY(angle));\n    };\n    Matrix4x4.prototype.rotateZ = function (angle) {\n        return this.mulByMatrix(Matrix4x4.rotationZ(angle));\n    };\n    Matrix4x4.lookAt = function (cameraPosition, lookAtPosition, cameraUp) {\n        var zAxis = cameraPosition.sub(lookAtPosition).normalize();\n        var xAxis = cameraUp.cross(zAxis).normalize();\n        var yAxis = zAxis.cross(xAxis).normalize();\n        return new Matrix4x4(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, -cameraPosition.dot(xAxis), -cameraPosition.dot(yAxis), -cameraPosition.dot(zAxis), 1.0);\n    };\n    Matrix4x4.orthographic = function (options) {\n        var top = options.top;\n        var bottom = options.bottom;\n        var left = options.left;\n        var right = options.right;\n        var near = options.near;\n        var far = options.far;\n        return new Matrix4x4(2 / (right - left), 0.0, 0.0, 0.0, 0.0, 2 / (top - bottom), 0.0, 0.0, 0.0, 0.0, -2 / (far - near), 0.0, -(right + left) / (right - left), -(top + bottom) / (top - bottom), -(far + near) / (far - near), 1.0);\n    };\n    Matrix4x4.frustum = function (options) {\n        var top = options.top;\n        var bottom = options.bottom;\n        var left = options.left;\n        var right = options.right;\n        var near = options.near;\n        var far = options.far;\n        return new Matrix4x4(2 * near / (right - left), 0.0, 0.0, 0.0, 0.0, 2 * near / (top - bottom), 0.0, 0.0, (right + left) / (right - left), (top + bottom) / (top - bottom), -(far + near) / (far - near), -1.0, 0.0, 0.0, -2 * far * near / (far - near), 0.0);\n    };\n    Matrix4x4.perspective = function (options) {\n        var top = options.near * Math.tan(options.fovYRadian * 0.5);\n        var height = top * 2;\n        var width = options.aspectRatio * height;\n        var left = -0.5 * width;\n        var right = left + width;\n        var bottom = top - height;\n        return Matrix4x4.frustum({\n            top: top,\n            bottom: bottom,\n            left: left,\n            right: right,\n            near: options.near,\n            far: options.far\n        });\n    };\n    return Matrix4x4;\n}());\nexports.Matrix4x4 = Matrix4x4;\nexports.Matrix2 = Matrix2x2;\nexports.Matrix3 = Matrix3x3;\nexports.Matrix4 = Matrix4x4;\n\n\n//# sourceURL=webpack:///./lib/matrix.js?");

/***/ }),

/***/ "./lib/transform.js":
/*!**************************!*\
  !*** ./lib/transform.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar float32vector_1 = __webpack_require__(/*! ./float32vector */ \"./lib/float32vector.js\");\nvar matrix_1 = __webpack_require__(/*! ./matrix */ \"./lib/matrix.js\");\nvar Transform = /** @class */ (function () {\n    function Transform() {\n        this._position = new float32vector_1.Vector3(0, 0, 0);\n        this._rotate = new float32vector_1.Vector3(0, 0, 0);\n        this._scale = new float32vector_1.Vector3(1, 1, 1);\n    }\n    Object.defineProperty(Transform.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        set: function (newPosition) {\n            this._position.x = newPosition.x;\n            this._position.y = newPosition.y;\n            this._position.z = newPosition.z;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Transform.prototype, \"rotate\", {\n        get: function () {\n            return this._rotate;\n        },\n        set: function (newRotation) {\n            this._rotate.x = newRotation.x;\n            this._rotate.y = newRotation.y;\n            this._rotate.z = newRotation.z;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Transform.prototype, \"scale\", {\n        get: function () {\n            return this._scale;\n        },\n        set: function (newScale) {\n            this._scale.x = newScale.x;\n            this._scale.y = newScale.y;\n            this._scale.z = newScale.z;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Transform.prototype.addPosition = function (x, y, z) {\n        this._position.x += x;\n        this._position.y += y;\n        this._position.z += z;\n    };\n    Transform.prototype.addRotation = function (rx, ry, rz) {\n        this._rotate.x += rx;\n        this._rotate.y += ry;\n        this._rotate.z += rz;\n    };\n    Object.defineProperty(Transform.prototype, \"matrix\", {\n        // 変換行列の返却\n        get: function () {\n            return matrix_1.Matrix4x4.identity\n                .translate(this.position.x, this.position.y, this.position.z)\n                .scale(this.scale.x, this.scale.y, this.scale.z)\n                .rotateX(this.rotate.x)\n                .rotateY(this.rotate.y)\n                .rotateZ(this.rotate.z);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Transform.mulVectorAndMatrix = function (matrix, vector) {\n        var vector4 = new float32vector_1.Vector4(vector.x, vector.y, vector.z, 1);\n        var result = new float32vector_1.Vector4((matrix.values[0] * vector4.x) + (matrix.values[4] * vector4.y) + (matrix.values[8] * vector4.z) + (matrix.values[12] * vector4.w), (matrix.values[1] * vector4.x) + (matrix.values[5] * vector4.y) + (matrix.values[9] * vector4.z) + (matrix.values[13] * vector4.w), (matrix.values[2] * vector4.x) + (matrix.values[6] * vector4.y) + (matrix.values[10] * vector4.z) + (matrix.values[14] * vector4.w), (matrix.values[3] * vector4.x) + (matrix.values[7] * vector4.y) + (matrix.values[11] * vector4.z) + (matrix.values[15] * vector4.w));\n        return new float32vector_1.Vector3(result.x / result.w, result.y / result.w, result.z / result.w);\n    };\n    return Transform;\n}());\nexports.Transform = Transform;\n\n\n//# sourceURL=webpack:///./lib/transform.js?");

/***/ }),

/***/ "./lib/vector_base.js":
/*!****************************!*\
  !*** ./lib/vector_base.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar VectorBase = /** @class */ (function () {\n    function VectorBase() {\n    }\n    Object.defineProperty(VectorBase.prototype, \"values\", {\n        get: function () {\n            return this._values;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(VectorBase.prototype, \"magnitude\", {\n        get: function () {\n            var sumSq = this._values.reduce(function (prev, current) { return prev + (Math.pow(current, 2)); }, 0);\n            return Math.sqrt(sumSq);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    VectorBase.prototype.toString = function () {\n        var dimension = this._values.length;\n        return \"Vector\" + dimension + \"(\" + this._values.join(', ') + \")\";\n    };\n    VectorBase.prototype.toNumberArray = function () {\n        var out = [];\n        this._values.forEach(function (value) { return out.push(value); });\n        return out;\n    };\n    return VectorBase;\n}());\nexports.VectorBase = VectorBase;\nvar Vector2Base = /** @class */ (function (_super) {\n    __extends(Vector2Base, _super);\n    function Vector2Base() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Vector2Base.prototype, \"x\", {\n        get: function () {\n            return this._values[0];\n        },\n        set: function (value) {\n            this._values[0] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Vector2Base.prototype, \"y\", {\n        get: function () {\n            return this._values[1];\n        },\n        set: function (value) {\n            this._values[1] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Vector2Base;\n}(VectorBase));\nexports.Vector2Base = Vector2Base;\nvar Vector3Base = /** @class */ (function (_super) {\n    __extends(Vector3Base, _super);\n    function Vector3Base() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Vector3Base.prototype, \"z\", {\n        get: function () {\n            return this._values[2];\n        },\n        set: function (value) {\n            this._values[2] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Vector3Base;\n}(Vector2Base));\nexports.Vector3Base = Vector3Base;\nvar Vector4Base = /** @class */ (function (_super) {\n    __extends(Vector4Base, _super);\n    function Vector4Base() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(Vector4Base.prototype, \"w\", {\n        get: function () {\n            return this._values[3];\n        },\n        set: function (value) {\n            this._values[3] = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Vector4Base;\n}(Vector3Base));\nexports.Vector4Base = Vector4Base;\n\n\n//# sourceURL=webpack:///./lib/vector_base.js?");

/***/ })

/******/ })));